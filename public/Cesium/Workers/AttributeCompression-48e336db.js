define(["exports","./Matrix2-413c4048","./Matrix3-81054f0f","./ComponentDatatype-ab629b88","./defaultValue-f6d5e6da","./Math-2ce22ee9"],function(e,t,n,a,o,r){"use strict";let c={SCALAR:"SCALAR",VEC2:"VEC2",VEC3:"VEC3",VEC4:"VEC4",MAT2:"MAT2",MAT3:"MAT3",MAT4:"MAT4",getMathType:function(e){switch(e){case c.SCALAR:return Number;case c.VEC2:return t.Cartesian2;case c.VEC3:return n.Cartesian3;case c.VEC4:return t.Cartesian4;case c.MAT2:return t.Matrix2;case c.MAT3:return n.Matrix3;case c.MAT4:return t.Matrix4}},getNumberOfComponents:function(e){switch(e){case c.SCALAR:return 1;case c.VEC2:return 2;case c.VEC3:return 3;case c.VEC4:case c.MAT2:return 4;case c.MAT3:return 9;case c.MAT4:return 16}},getAttributeLocationCount:function(e){switch(e){case c.SCALAR:case c.VEC2:case c.VEC3:case c.VEC4:return 1;case c.MAT2:return 2;case c.MAT3:return 3;case c.MAT4:return 4}},getGlslType:function(e){switch(e){case c.SCALAR:return"float";case c.VEC2:return"vec2";case c.VEC3:return"vec3";case c.VEC4:return"vec4";case c.MAT2:return"mat2";case c.MAT3:return"mat3";case c.MAT4:return"mat4"}}};var s=Object.freeze(c);let u=1/256,i={octEncodeInRange:function(e,t,n){if(n.x=e.x/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),n.y=e.y/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),e.z<0){let e=n.x,t=n.y;n.x=(1-Math.abs(t))*r.CesiumMath.signNotZero(e),n.y=(1-Math.abs(e))*r.CesiumMath.signNotZero(t)}return n.x=r.CesiumMath.toSNorm(n.x,t),n.y=r.CesiumMath.toSNorm(n.y,t),n},octEncode:function(e,t){return i.octEncodeInRange(e,255,t)}},C=new t.Cartesian2,M=new Uint8Array(1);function f(e){return M[0]=e,M[0]}i.octEncodeToCartesian4=function(e,t){return i.octEncodeInRange(e,65535,C),t.x=f(C.x*u),t.y=f(C.x),t.z=f(C.y*u),t.w=f(C.y),t},i.octDecodeInRange=function(e,t,a,o){if(o.x=r.CesiumMath.fromSNorm(e,a),o.y=r.CesiumMath.fromSNorm(t,a),o.z=1-(Math.abs(o.x)+Math.abs(o.y)),o.z<0){let e=o.x;o.x=(1-Math.abs(o.y))*r.CesiumMath.signNotZero(e),o.y=(1-Math.abs(e))*r.CesiumMath.signNotZero(o.y)}return n.Cartesian3.normalize(o,o)},i.octDecode=function(e,t,n){return i.octDecodeInRange(e,t,255,n)},i.octDecodeFromCartesian4=function(e,t){let n=256*e.x+e.y,a=256*e.z+e.w;return i.octDecodeInRange(n,a,65535,t)},i.octPackFloat=function(e){return 256*e.x+e.y};let l=new t.Cartesian2;function d(e){return e>>1^-(1&e)}i.octEncodeFloat=function(e){return i.octEncode(e,l),i.octPackFloat(l)},i.octDecodeFloat=function(e,t){let n=e/256,a=Math.floor(n);return i.octDecode(a,256*(n-a),t)},i.octPack=function(e,t,n,a){let o=i.octEncodeFloat(e),r=i.octEncodeFloat(t),c=i.octEncode(n,l);return a.x=65536*c.x+o,a.y=65536*c.y+r,a},i.octUnpack=function(e,t,n,a){let o=e.x/65536,r=Math.floor(o),c=65536*(o-r);o=e.y/65536;let s=Math.floor(o),u=65536*(o-s);i.octDecodeFloat(c,t),i.octDecodeFloat(u,n),i.octDecode(r,s,a)},i.compressTextureCoordinates=function(e){return 4096*(4095*e.x|0)+(4095*e.y|0)},i.decompressTextureCoordinates=function(e,t){let n=Math.floor(e/4096);return t.x=n/4095,t.y=(e-4096*n)/4095,t},i.zigZagDeltaDecode=function(e,t,n){let a=e.length,r=0,c=0,s=0;for(let u=0;u<a;++u)r+=d(e[u]),c+=d(t[u]),e[u]=r,t[u]=c,o.defined(n)&&(s+=d(n[u]),n[u]=s)},i.dequantize=function(e,t,n,o){let r;let c=s.getNumberOfComponents(n);switch(t){case a.ComponentDatatype.BYTE:r=127;break;case a.ComponentDatatype.UNSIGNED_BYTE:r=255;break;case a.ComponentDatatype.SHORT:r=32767;break;case a.ComponentDatatype.UNSIGNED_SHORT:r=65535;break;case a.ComponentDatatype.INT:r=2147483647;break;case a.ComponentDatatype.UNSIGNED_INT:r=4294967295}let u=new Float32Array(o*c);for(let t=0;t<o;t++)for(let n=0;n<c;n++){let a=t*c+n;u[a]=Math.max(e[a]/r,-1)}return u},i.decodeRGB565=function(e,t){let n=e.length;o.defined(t)||(t=new Float32Array(3*n));let a=1/31;for(let o=0;o<n;o++){let n=e[o],r=n>>11,c=n>>5&63,s=31&n,u=3*o;t[u]=r*a,t[u+1]=.015873015873015872*c,t[u+2]=s*a}return t},e.AttributeCompression=i});