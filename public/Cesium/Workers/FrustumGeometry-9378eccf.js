define(["exports","./Transforms-fce95115","./Matrix3-81054f0f","./Matrix2-413c4048","./ComponentDatatype-ab629b88","./defaultValue-f6d5e6da","./GeometryAttribute-81ff775c","./GeometryAttributes-1e4ddcd2","./Math-2ce22ee9","./Plane-6add0ae1","./VertexFormat-fbdec922"],function(t,e,a,i,n,r,o,s,f,u,l){"use strict";function h(t){this.planes=r.defaultValue(t,[])}let p=[new a.Cartesian3,new a.Cartesian3,new a.Cartesian3];a.Cartesian3.clone(a.Cartesian3.UNIT_X,p[0]),a.Cartesian3.clone(a.Cartesian3.UNIT_Y,p[1]),a.Cartesian3.clone(a.Cartesian3.UNIT_Z,p[2]);let d=new a.Cartesian3,c=new a.Cartesian3,m=new u.Plane(new a.Cartesian3(1,0,0),0);function C(t){t=r.defaultValue(t,r.defaultValue.EMPTY_OBJECT),this.left=t.left,this._left=void 0,this.right=t.right,this._right=void 0,this.top=t.top,this._top=void 0,this.bottom=t.bottom,this._bottom=void 0,this.near=r.defaultValue(t.near,1),this._near=this.near,this.far=r.defaultValue(t.far,5e8),this._far=this.far,this._cullingVolume=new h,this._orthographicMatrix=new i.Matrix4}function _(t){t.top===t._top&&t.bottom===t._bottom&&t.left===t._left&&t.right===t._right&&t.near===t._near&&t.far===t._far||(t._left=t.left,t._right=t.right,t._top=t.top,t._bottom=t.bottom,t._near=t.near,t._far=t.far,t._orthographicMatrix=i.Matrix4.computeOrthographicOffCenter(t.left,t.right,t.bottom,t.top,t.near,t.far,t._orthographicMatrix))}h.fromBoundingSphere=function(t,e){r.defined(e)||(e=new h);let n=p.length,o=e.planes;o.length=2*n;let s=t.center,f=t.radius,u=0;for(let t=0;t<n;++t){let e=p[t],n=o[u],l=o[u+1];r.defined(n)||(n=o[u]=new i.Cartesian4),r.defined(l)||(l=o[u+1]=new i.Cartesian4),a.Cartesian3.multiplyByScalar(e,-f,d),a.Cartesian3.add(s,d,d),n.x=e.x,n.y=e.y,n.z=e.z,n.w=-a.Cartesian3.dot(e,d),a.Cartesian3.multiplyByScalar(e,f,d),a.Cartesian3.add(s,d,d),l.x=-e.x,l.y=-e.y,l.z=-e.z,l.w=-a.Cartesian3.dot(a.Cartesian3.negate(e,c),d),u+=2}return e},h.prototype.computeVisibility=function(t){let a=this.planes,i=!1;for(let n=0,r=a.length;n<r;++n){let r=t.intersectPlane(u.Plane.fromCartesian4(a[n],m));if(r===e.Intersect.OUTSIDE)return e.Intersect.OUTSIDE;r===e.Intersect.INTERSECTING&&(i=!0)}return i?e.Intersect.INTERSECTING:e.Intersect.INSIDE},h.prototype.computeVisibilityWithPlaneMask=function(t,a){if(a===h.MASK_OUTSIDE||a===h.MASK_INSIDE)return a;let i=h.MASK_INSIDE,n=this.planes;for(let r=0,o=n.length;r<o;++r){let o=r<31?1<<r:0;if(r<31&&0==(a&o))continue;let s=t.intersectPlane(u.Plane.fromCartesian4(n[r],m));if(s===e.Intersect.OUTSIDE)return h.MASK_OUTSIDE;s===e.Intersect.INTERSECTING&&(i|=o)}return i},h.MASK_OUTSIDE=4294967295,h.MASK_INSIDE=0,h.MASK_INDETERMINATE=2147483647,Object.defineProperties(C.prototype,{projectionMatrix:{get:function(){return _(this),this._orthographicMatrix}}});let y=new a.Cartesian3,g=new a.Cartesian3,w=new a.Cartesian3,x=new a.Cartesian3;function v(t){t=r.defaultValue(t,r.defaultValue.EMPTY_OBJECT),this._offCenterFrustum=new C,this.width=t.width,this._width=void 0,this.aspectRatio=t.aspectRatio,this._aspectRatio=void 0,this.near=r.defaultValue(t.near,1),this._near=this.near,this.far=r.defaultValue(t.far,5e8),this._far=this.far}function M(t){let e=t._offCenterFrustum;if(t.width!==t._width||t.aspectRatio!==t._aspectRatio||t.near!==t._near||t.far!==t._far){t._aspectRatio=t.aspectRatio,t._width=t.width,t._near=t.near,t._far=t.far;let a=1/t.aspectRatio;e.right=.5*t.width,e.left=-e.right,e.top=a*e.right,e.bottom=-e.top,e.near=t.near,e.far=t.far}}function b(t){t=r.defaultValue(t,r.defaultValue.EMPTY_OBJECT),this.left=t.left,this._left=void 0,this.right=t.right,this._right=void 0,this.top=t.top,this._top=void 0,this.bottom=t.bottom,this._bottom=void 0,this.near=r.defaultValue(t.near,1),this._near=this.near,this.far=r.defaultValue(t.far,5e8),this._far=this.far,this._cullingVolume=new h,this._perspectiveMatrix=new i.Matrix4,this._infinitePerspective=new i.Matrix4}function V(t){let e=t.top,a=t.bottom,n=t.right,r=t.left,o=t.near,s=t.far;e===t._top&&a===t._bottom&&r===t._left&&n===t._right&&o===t._near&&s===t._far||(t._left=r,t._right=n,t._top=e,t._bottom=a,t._near=o,t._far=s,t._perspectiveMatrix=i.Matrix4.computePerspectiveOffCenter(r,n,a,e,o,s,t._perspectiveMatrix),t._infinitePerspective=i.Matrix4.computeInfinitePerspectiveOffCenter(r,n,a,e,o,t._infinitePerspective))}C.prototype.computeCullingVolume=function(t,e,n){let o=this._cullingVolume.planes,s=this.top,f=this.bottom,u=this.right,l=this.left,h=this.near,p=this.far,d=a.Cartesian3.cross(e,n,y);a.Cartesian3.normalize(d,d),a.Cartesian3.multiplyByScalar(e,h,g),a.Cartesian3.add(t,g,g),a.Cartesian3.multiplyByScalar(d,l,w),a.Cartesian3.add(g,w,w);let c=o[0];return r.defined(c)||(c=o[0]=new i.Cartesian4),c.x=d.x,c.y=d.y,c.z=d.z,c.w=-a.Cartesian3.dot(d,w),a.Cartesian3.multiplyByScalar(d,u,w),a.Cartesian3.add(g,w,w),c=o[1],r.defined(c)||(c=o[1]=new i.Cartesian4),c.x=-d.x,c.y=-d.y,c.z=-d.z,c.w=-a.Cartesian3.dot(a.Cartesian3.negate(d,x),w),a.Cartesian3.multiplyByScalar(n,f,w),a.Cartesian3.add(g,w,w),c=o[2],r.defined(c)||(c=o[2]=new i.Cartesian4),c.x=n.x,c.y=n.y,c.z=n.z,c.w=-a.Cartesian3.dot(n,w),a.Cartesian3.multiplyByScalar(n,s,w),a.Cartesian3.add(g,w,w),c=o[3],r.defined(c)||(c=o[3]=new i.Cartesian4),c.x=-n.x,c.y=-n.y,c.z=-n.z,c.w=-a.Cartesian3.dot(a.Cartesian3.negate(n,x),w),c=o[4],r.defined(c)||(c=o[4]=new i.Cartesian4),c.x=e.x,c.y=e.y,c.z=e.z,c.w=-a.Cartesian3.dot(e,g),a.Cartesian3.multiplyByScalar(e,p,w),a.Cartesian3.add(t,w,w),c=o[5],r.defined(c)||(c=o[5]=new i.Cartesian4),c.x=-e.x,c.y=-e.y,c.z=-e.z,c.w=-a.Cartesian3.dot(a.Cartesian3.negate(e,x),w),this._cullingVolume},C.prototype.getPixelDimensions=function(t,e,a,i,n){_(this);let r=i*(this.right-this.left)/t,o=i*(this.top-this.bottom)/e;return n.x=r,n.y=o,n},C.prototype.clone=function(t){return r.defined(t)||(t=new C),t.left=this.left,t.right=this.right,t.top=this.top,t.bottom=this.bottom,t.near=this.near,t.far=this.far,t._left=void 0,t._right=void 0,t._top=void 0,t._bottom=void 0,t._near=void 0,t._far=void 0,t},C.prototype.equals=function(t){return r.defined(t)&&t instanceof C&&this.right===t.right&&this.left===t.left&&this.top===t.top&&this.bottom===t.bottom&&this.near===t.near&&this.far===t.far},C.prototype.equalsEpsilon=function(t,e,a){return t===this||r.defined(t)&&t instanceof C&&f.CesiumMath.equalsEpsilon(this.right,t.right,e,a)&&f.CesiumMath.equalsEpsilon(this.left,t.left,e,a)&&f.CesiumMath.equalsEpsilon(this.top,t.top,e,a)&&f.CesiumMath.equalsEpsilon(this.bottom,t.bottom,e,a)&&f.CesiumMath.equalsEpsilon(this.near,t.near,e,a)&&f.CesiumMath.equalsEpsilon(this.far,t.far,e,a)},v.packedLength=4,v.pack=function(t,e,a){return a=r.defaultValue(a,0),e[a++]=t.width,e[a++]=t.aspectRatio,e[a++]=t.near,e[a]=t.far,e},v.unpack=function(t,e,a){return e=r.defaultValue(e,0),r.defined(a)||(a=new v),a.width=t[e++],a.aspectRatio=t[e++],a.near=t[e++],a.far=t[e],a},Object.defineProperties(v.prototype,{projectionMatrix:{get:function(){return M(this),this._offCenterFrustum.projectionMatrix}}}),v.prototype.computeCullingVolume=function(t,e,a){return M(this),this._offCenterFrustum.computeCullingVolume(t,e,a)},v.prototype.getPixelDimensions=function(t,e,a,i,n){return M(this),this._offCenterFrustum.getPixelDimensions(t,e,a,i,n)},v.prototype.clone=function(t){return r.defined(t)||(t=new v),t.aspectRatio=this.aspectRatio,t.width=this.width,t.near=this.near,t.far=this.far,t._aspectRatio=void 0,t._width=void 0,t._near=void 0,t._far=void 0,this._offCenterFrustum.clone(t._offCenterFrustum),t},v.prototype.equals=function(t){return!!(r.defined(t)&&t instanceof v)&&(M(this),M(t),this.width===t.width&&this.aspectRatio===t.aspectRatio&&this._offCenterFrustum.equals(t._offCenterFrustum))},v.prototype.equalsEpsilon=function(t,e,a){return!!(r.defined(t)&&t instanceof v)&&(M(this),M(t),f.CesiumMath.equalsEpsilon(this.width,t.width,e,a)&&f.CesiumMath.equalsEpsilon(this.aspectRatio,t.aspectRatio,e,a)&&this._offCenterFrustum.equalsEpsilon(t._offCenterFrustum,e,a))},Object.defineProperties(b.prototype,{projectionMatrix:{get:function(){return V(this),this._perspectiveMatrix}},infiniteProjectionMatrix:{get:function(){return V(this),this._infinitePerspective}}});let F=new a.Cartesian3,E=new a.Cartesian3,O=new a.Cartesian3,P=new a.Cartesian3;function z(t){t=r.defaultValue(t,r.defaultValue.EMPTY_OBJECT),this._offCenterFrustum=new b,this.fov=t.fov,this._fov=void 0,this._fovy=void 0,this._sseDenominator=void 0,this.aspectRatio=t.aspectRatio,this._aspectRatio=void 0,this.near=r.defaultValue(t.near,1),this._near=this.near,this.far=r.defaultValue(t.far,5e8),this._far=this.far,this.xOffset=r.defaultValue(t.xOffset,0),this._xOffset=this.xOffset,this.yOffset=r.defaultValue(t.yOffset,0),this._yOffset=this.yOffset}function R(t){let e=t._offCenterFrustum;t.fov===t._fov&&t.aspectRatio===t._aspectRatio&&t.near===t._near&&t.far===t._far&&t.xOffset===t._xOffset&&t.yOffset===t._yOffset||(t._aspectRatio=t.aspectRatio,t._fov=t.fov,t._fovy=t.aspectRatio<=1?t.fov:2*Math.atan(Math.tan(.5*t.fov)/t.aspectRatio),t._near=t.near,t._far=t.far,t._sseDenominator=2*Math.tan(.5*t._fovy),t._xOffset=t.xOffset,t._yOffset=t.yOffset,e.top=t.near*Math.tan(.5*t._fovy),e.bottom=-e.top,e.right=t.aspectRatio*e.top,e.left=-e.right,e.near=t.near,e.far=t.far,e.right+=t.xOffset,e.left+=t.xOffset,e.top+=t.yOffset,e.bottom+=t.yOffset)}function S(t){let i,n;let o=t.frustum,s=t.orientation,f=t.origin,u=r.defaultValue(t.vertexFormat,l.VertexFormat.DEFAULT),h=r.defaultValue(t._drawNearPlane,!0);o instanceof z?(i=0,n=z.packedLength):o instanceof v&&(i=1,n=v.packedLength),this._frustumType=i,this._frustum=o.clone(),this._origin=a.Cartesian3.clone(f),this._orientation=e.Quaternion.clone(s),this._drawNearPlane=h,this._vertexFormat=u,this._workerName="createFrustumGeometry",this.packedLength=2+n+a.Cartesian3.packedLength+e.Quaternion.packedLength+l.VertexFormat.packedLength}b.prototype.computeCullingVolume=function(t,e,n){let o=this._cullingVolume.planes,s=this.top,f=this.bottom,u=this.right,l=this.left,h=this.near,p=this.far,d=a.Cartesian3.cross(e,n,F);a.Cartesian3.multiplyByScalar(e,h,E),a.Cartesian3.add(t,E,E),a.Cartesian3.multiplyByScalar(e,p,O),a.Cartesian3.add(t,O,O),a.Cartesian3.multiplyByScalar(d,l,P),a.Cartesian3.add(E,P,P),a.Cartesian3.subtract(P,t,P),a.Cartesian3.normalize(P,P),a.Cartesian3.cross(P,n,P),a.Cartesian3.normalize(P,P);let c=o[0];return r.defined(c)||(c=o[0]=new i.Cartesian4),c.x=P.x,c.y=P.y,c.z=P.z,c.w=-a.Cartesian3.dot(P,t),a.Cartesian3.multiplyByScalar(d,u,P),a.Cartesian3.add(E,P,P),a.Cartesian3.subtract(P,t,P),a.Cartesian3.cross(n,P,P),a.Cartesian3.normalize(P,P),c=o[1],r.defined(c)||(c=o[1]=new i.Cartesian4),c.x=P.x,c.y=P.y,c.z=P.z,c.w=-a.Cartesian3.dot(P,t),a.Cartesian3.multiplyByScalar(n,f,P),a.Cartesian3.add(E,P,P),a.Cartesian3.subtract(P,t,P),a.Cartesian3.cross(d,P,P),a.Cartesian3.normalize(P,P),c=o[2],r.defined(c)||(c=o[2]=new i.Cartesian4),c.x=P.x,c.y=P.y,c.z=P.z,c.w=-a.Cartesian3.dot(P,t),a.Cartesian3.multiplyByScalar(n,s,P),a.Cartesian3.add(E,P,P),a.Cartesian3.subtract(P,t,P),a.Cartesian3.cross(P,d,P),a.Cartesian3.normalize(P,P),c=o[3],r.defined(c)||(c=o[3]=new i.Cartesian4),c.x=P.x,c.y=P.y,c.z=P.z,c.w=-a.Cartesian3.dot(P,t),c=o[4],r.defined(c)||(c=o[4]=new i.Cartesian4),c.x=e.x,c.y=e.y,c.z=e.z,c.w=-a.Cartesian3.dot(e,E),a.Cartesian3.negate(e,P),c=o[5],r.defined(c)||(c=o[5]=new i.Cartesian4),c.x=P.x,c.y=P.y,c.z=P.z,c.w=-a.Cartesian3.dot(P,O),this._cullingVolume},b.prototype.getPixelDimensions=function(t,e,a,i,n){V(this);let r=1/this.near,o=this.top*r,s=2*i*a*o/e;o=this.right*r;let f=2*i*a*o/t;return n.x=f,n.y=s,n},b.prototype.clone=function(t){return r.defined(t)||(t=new b),t.right=this.right,t.left=this.left,t.top=this.top,t.bottom=this.bottom,t.near=this.near,t.far=this.far,t._left=void 0,t._right=void 0,t._top=void 0,t._bottom=void 0,t._near=void 0,t._far=void 0,t},b.prototype.equals=function(t){return r.defined(t)&&t instanceof b&&this.right===t.right&&this.left===t.left&&this.top===t.top&&this.bottom===t.bottom&&this.near===t.near&&this.far===t.far},b.prototype.equalsEpsilon=function(t,e,a){return t===this||r.defined(t)&&t instanceof b&&f.CesiumMath.equalsEpsilon(this.right,t.right,e,a)&&f.CesiumMath.equalsEpsilon(this.left,t.left,e,a)&&f.CesiumMath.equalsEpsilon(this.top,t.top,e,a)&&f.CesiumMath.equalsEpsilon(this.bottom,t.bottom,e,a)&&f.CesiumMath.equalsEpsilon(this.near,t.near,e,a)&&f.CesiumMath.equalsEpsilon(this.far,t.far,e,a)},z.packedLength=6,z.pack=function(t,e,a){return a=r.defaultValue(a,0),e[a++]=t.fov,e[a++]=t.aspectRatio,e[a++]=t.near,e[a++]=t.far,e[a++]=t.xOffset,e[a]=t.yOffset,e},z.unpack=function(t,e,a){return e=r.defaultValue(e,0),r.defined(a)||(a=new z),a.fov=t[e++],a.aspectRatio=t[e++],a.near=t[e++],a.far=t[e++],a.xOffset=t[e++],a.yOffset=t[e],a},Object.defineProperties(z.prototype,{projectionMatrix:{get:function(){return R(this),this._offCenterFrustum.projectionMatrix}},infiniteProjectionMatrix:{get:function(){return R(this),this._offCenterFrustum.infiniteProjectionMatrix}},fovy:{get:function(){return R(this),this._fovy}},sseDenominator:{get:function(){return R(this),this._sseDenominator}}}),z.prototype.computeCullingVolume=function(t,e,a){return R(this),this._offCenterFrustum.computeCullingVolume(t,e,a)},z.prototype.getPixelDimensions=function(t,e,a,i,n){return R(this),this._offCenterFrustum.getPixelDimensions(t,e,a,i,n)},z.prototype.clone=function(t){return r.defined(t)||(t=new z),t.aspectRatio=this.aspectRatio,t.fov=this.fov,t.near=this.near,t.far=this.far,t._aspectRatio=void 0,t._fov=void 0,t._near=void 0,t._far=void 0,this._offCenterFrustum.clone(t._offCenterFrustum),t},z.prototype.equals=function(t){return!!(r.defined(t)&&t instanceof z)&&(R(this),R(t),this.fov===t.fov&&this.aspectRatio===t.aspectRatio&&this._offCenterFrustum.equals(t._offCenterFrustum))},z.prototype.equalsEpsilon=function(t,e,a){return!!(r.defined(t)&&t instanceof z)&&(R(this),R(t),f.CesiumMath.equalsEpsilon(this.fov,t.fov,e,a)&&f.CesiumMath.equalsEpsilon(this.aspectRatio,t.aspectRatio,e,a)&&this._offCenterFrustum.equalsEpsilon(t._offCenterFrustum,e,a))},S.pack=function(t,i,n){n=r.defaultValue(n,0);let o=t._frustumType,s=t._frustum;return i[n++]=o,0===o?(z.pack(s,i,n),n+=z.packedLength):(v.pack(s,i,n),n+=v.packedLength),a.Cartesian3.pack(t._origin,i,n),n+=a.Cartesian3.packedLength,e.Quaternion.pack(t._orientation,i,n),n+=e.Quaternion.packedLength,l.VertexFormat.pack(t._vertexFormat,i,n),i[n+=l.VertexFormat.packedLength]=t._drawNearPlane?1:0,i};let T=new z,k=new v,D=new e.Quaternion,I=new a.Cartesian3,A=new l.VertexFormat;function q(t,e,a,i,n,o,s,f){let u=t/3*2;for(let n=0;n<4;++n)r.defined(e)&&(e[t]=o.x,e[t+1]=o.y,e[t+2]=o.z),r.defined(a)&&(a[t]=s.x,a[t+1]=s.y,a[t+2]=s.z),r.defined(i)&&(i[t]=f.x,i[t+1]=f.y,i[t+2]=f.z),t+=3;n[u]=0,n[u+1]=0,n[u+2]=1,n[u+3]=0,n[u+4]=1,n[u+5]=1,n[u+6]=0,n[u+7]=1}S.unpack=function(t,i,n){let o;i=r.defaultValue(i,0);let s=t[i++];0===s?(o=z.unpack(t,i,T),i+=z.packedLength):(o=v.unpack(t,i,k),i+=v.packedLength);let f=a.Cartesian3.unpack(t,i,I);i+=a.Cartesian3.packedLength;let u=e.Quaternion.unpack(t,i,D);i+=e.Quaternion.packedLength;let h=l.VertexFormat.unpack(t,i,A),p=1===t[i+=l.VertexFormat.packedLength];if(!r.defined(n))return new S({frustum:o,origin:f,orientation:u,vertexFormat:h,_drawNearPlane:p});let d=s===n._frustumType?n._frustum:void 0;return n._frustum=o.clone(d),n._frustumType=s,n._origin=a.Cartesian3.clone(f,n._origin),n._orientation=e.Quaternion.clone(u,n._orientation),n._vertexFormat=l.VertexFormat.clone(h,n._vertexFormat),n._drawNearPlane=p,n};let B=new a.Matrix3,L=new i.Matrix4,N=new i.Matrix4,G=new a.Cartesian3,j=new a.Cartesian3,U=new a.Cartesian3,Q=new a.Cartesian3,K=new a.Cartesian3,Y=new a.Cartesian3,J=[,,,],W=[,,,,];W[0]=new i.Cartesian4(-1,-1,1,1),W[1]=new i.Cartesian4(1,-1,1,1),W[2]=new i.Cartesian4(1,1,1,1),W[3]=new i.Cartesian4(-1,1,1,1);let X=[,,,,];for(let t=0;t<4;++t)X[t]=new i.Cartesian4;S._computeNearFarPlanes=function(t,e,n,o,s,f,u,l){let h,p;let d=a.Matrix3.fromQuaternion(e,B),c=r.defaultValue(f,G),m=r.defaultValue(u,j),C=r.defaultValue(l,U);c=a.Matrix3.getColumn(d,0,c),m=a.Matrix3.getColumn(d,1,m),C=a.Matrix3.getColumn(d,2,C),a.Cartesian3.normalize(c,c),a.Cartesian3.normalize(m,m),a.Cartesian3.normalize(C,C),a.Cartesian3.negate(c,c);let _=i.Matrix4.computeView(t,C,m,c,L);if(0===n){let t=o.projectionMatrix,e=i.Matrix4.multiply(t,_,N);p=i.Matrix4.inverse(e,N)}else h=i.Matrix4.inverseTransformation(_,N);r.defined(p)?(J[0]=o.near,J[1]=o.far):(J[0]=0,J[1]=o.near,J[2]=o.far);for(let e=0;e<2;++e)for(let n=0;n<4;++n){let f=i.Cartesian4.clone(W[n],X[n]);if(r.defined(p)){f=i.Matrix4.multiplyByVector(p,f,f);let n=1/f.w;a.Cartesian3.multiplyByScalar(f,n,f),a.Cartesian3.subtract(f,t,f),a.Cartesian3.normalize(f,f);let r=a.Cartesian3.dot(C,f);a.Cartesian3.multiplyByScalar(f,J[e]/r,f),a.Cartesian3.add(f,t,f)}else{r.defined(o._offCenterFrustum)&&(o=o._offCenterFrustum);let t=J[e],a=J[e+1];f.x=.5*(f.x*(o.right-o.left)+o.left+o.right),f.y=.5*(f.y*(o.top-o.bottom)+o.bottom+o.top),f.z=.5*(f.z*(t-a)-t-a),f.w=1,i.Matrix4.multiplyByVector(h,f,f)}s[12*e+3*n]=f.x,s[12*e+3*n+1]=f.y,s[12*e+3*n+2]=f.z}},S.createGeometry=function(t){let i=t._frustumType,f=t._frustum,u=t._origin,l=t._orientation,h=t._drawNearPlane,p=t._vertexFormat,d=h?6:5,c=new Float64Array(72);S._computeNearFarPlanes(u,l,i,f,c);let m=24;c[24]=c[12],c[m+1]=c[13],c[m+2]=c[14],c[m+3]=c[0],c[m+4]=c[1],c[m+5]=c[2],c[m+6]=c[9],c[m+7]=c[10],c[m+8]=c[11],c[m+9]=c[21],c[m+10]=c[22],c[m+11]=c[23],c[m+=12]=c[15],c[m+1]=c[16],c[m+2]=c[17],c[m+3]=c[3],c[m+4]=c[4],c[m+5]=c[5],c[m+6]=c[0],c[m+7]=c[1],c[m+8]=c[2],c[m+9]=c[12],c[m+10]=c[13],c[m+11]=c[14],c[m+=12]=c[3],c[m+1]=c[4],c[m+2]=c[5],c[m+3]=c[15],c[m+4]=c[16],c[m+5]=c[17],c[m+6]=c[18],c[m+7]=c[19],c[m+8]=c[20],c[m+9]=c[6],c[m+10]=c[7],c[m+11]=c[8],c[m+=12]=c[6],c[m+1]=c[7],c[m+2]=c[8],c[m+3]=c[18],c[m+4]=c[19],c[m+5]=c[20],c[m+6]=c[21],c[m+7]=c[22],c[m+8]=c[23],c[m+9]=c[9],c[m+10]=c[10],c[m+11]=c[11],h||(c=c.subarray(12));let C=new s.GeometryAttributes({position:new o.GeometryAttribute({componentDatatype:n.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:c})});if(r.defined(p.normal)||r.defined(p.tangent)||r.defined(p.bitangent)||r.defined(p.st)){let t=r.defined(p.normal)?new Float32Array(12*d):void 0,e=r.defined(p.tangent)?new Float32Array(12*d):void 0,i=r.defined(p.bitangent)?new Float32Array(12*d):void 0,s=r.defined(p.st)?new Float32Array(8*d):void 0,f=a.Cartesian3.negate(G,Q),u=a.Cartesian3.negate(j,K),l=a.Cartesian3.negate(U,Y);m=0,h&&(q(m,t,e,i,s,l,G,j),m+=12),q(m,t,e,i,s,U,f,j),q(m+=12,t,e,i,s,f,l,j),q(m+=12,t,e,i,s,u,l,f),q(m+=12,t,e,i,s,G,U,j),q(m+=12,t,e,i,s,j,U,f),r.defined(t)&&(C.normal=new o.GeometryAttribute({componentDatatype:n.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:t})),r.defined(e)&&(C.tangent=new o.GeometryAttribute({componentDatatype:n.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:e})),r.defined(i)&&(C.bitangent=new o.GeometryAttribute({componentDatatype:n.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:i})),r.defined(s)&&(C.st=new o.GeometryAttribute({componentDatatype:n.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:s}))}let _=new Uint16Array(6*d);for(let t=0;t<d;++t){let e=6*t,a=4*t;_[e]=a,_[e+1]=a+1,_[e+2]=a+2,_[e+3]=a,_[e+4]=a+2,_[e+5]=a+3}return new o.Geometry({attributes:C,indices:_,primitiveType:o.PrimitiveType.TRIANGLES,boundingSphere:e.BoundingSphere.fromVertices(c)})},t.FrustumGeometry=S,t.OrthographicFrustum=v,t.PerspectiveFrustum=z});